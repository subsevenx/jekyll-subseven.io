{%- comment -%}
Handles the navigation menu of the website. Todo: context to buttons.
{%- endcomment -%}
<header>

  <a class="skip-to-content" href="#main-content">Skip to main content</a>

  <nav class="navbar navbar-expand-lg bg-dark navbar-dark active shadow">
    <div class="container-fluid">
      <a class="navbar-brand" href="/"><img height="32" width="32" class="rounded-circle"
          src="/assets/img/site-logo.svg" alt="Logo for subseven.io"> </a>
      <button aria-label="Menu Toggle" class="navbar-toggler" type="button" data-bs-toggle="collapse"
        data-bs-target="#navbarToggle" name="toggle">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-center" id="navbarToggle">
        <ul class="navbar-nav" role="menubar">
          {% for nav-item in site.data.nav.menu %}
          <li class="nav-item" role="menuitem">
            <a class="nav-link {%if nav-item.link == page.url %}active{%endif%}" href="{{nav-item.link}}" {%if nav-item.link == page.url%}aria-current="page"{%endif%}>{{nav-item.name}}</a>
          </li>
          {%- comment -%} Checks to see if there's nested items {%- endcomment -%} 
          {% if nav-item.child[0] %}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">{{nav-item.name}}</a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            {% for child in nav-item.child %}
            <li><a class="dropdown-item {%if child.link == page.url %}active{%endif%}" href="{{child.link}}" {%if child.link == page.url%}aria-current="page"{%endif%}>{{child.name}}</a></li>
            {%- endfor -%}  
          </ul>
          {% endif %}
          {%- endfor -%}
        </ul>
      </div>
    </div>
  </nav>
</header>